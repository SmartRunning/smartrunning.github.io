"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6740],{3849:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>j,frontMatter:()=>t,metadata:()=>d,toc:()=>h});const d=JSON.parse('{"id":"storage/database-schema","title":"Database Schema","description":"Version: 2.2 (Verified against production database)","source":"@site/docs/storage/database-schema.md","sourceDirName":"storage","slug":"/storage/database-schema","permalink":"/docs/storage/database-schema","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/storage/database-schema.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"Database Schema"},"sidebar":"tutorialSidebar","previous":{"title":"Training Algorithm","permalink":"/docs/architecture/training-algorithm"},"next":{"title":"MongoDB Setup","permalink":"/docs/storage/mongodb-setup"}}');var r=s(4848),i=s(8453);const t={sidebar_position:1,title:"Database Schema"},c="Database Schema Documentation",l={},h=[{value:"Overview",id:"overview",level:2},{value:"Collections Summary",id:"collections-summary",level:2},{value:"Collection Schemas",id:"collection-schemas",level:2},{value:"1. runner",id:"1-runner",level:3},{value:"2. sessionsFIT",id:"2-sessionsfit",level:3},{value:"3. sessionsParquet",id:"3-sessionsparquet",level:3},{value:"4. sessionStatistics",id:"4-sessionstatistics",level:3},{value:"5. runnerHistory",id:"5-runnerhistory",level:3},{value:"6. trainingplan",id:"6-trainingplan",level:3},{value:"7. trainingplanschema",id:"7-trainingplanschema",level:3},{value:"8. workouts",id:"8-workouts",level:3},{value:"9. background_jobs",id:"9-background_jobs",level:3},{value:"10. fs.files (GridFS)",id:"10-fsfiles-gridfs",level:3},{value:"11. fs.chunks (GridFS)",id:"11-fschunks-gridfs",level:3},{value:"Relationships Diagram",id:"relationships-diagram",level:2},{value:"Data Flow",id:"data-flow",level:2},{value:"1. Session Upload Flow",id:"1-session-upload-flow",level:3},{value:"2. Training Plan Creation Flow",id:"2-training-plan-creation-flow",level:3},{value:"3. Personal Best Update Flow",id:"3-personal-best-update-flow",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"Current Indexes",id:"current-indexes",level:3},{value:"Performance Indexes",id:"performance-indexes",level:3},{value:"Query Patterns",id:"query-patterns",level:3},{value:"Validation and Constraints",id:"validation-and-constraints",level:2},{value:"Business Logic Constraints",id:"business-logic-constraints",level:3},{value:"Data Type Constraints",id:"data-type-constraints",level:3},{value:"Referential Integrity",id:"referential-integrity",level:3},{value:"Schema Version History",id:"schema-version-history",level:2},{value:"Version 2.2 (Current)",id:"version-22-current",level:3},{value:"Version 2.1 (Time Series Migration)",id:"version-21-time-series-migration",level:3},{value:"Version 2.0 (2025-10-02)",id:"version-20-2025-10-02",level:3},{value:"Version 1.0 (Initial)",id:"version-10-initial",level:3},{value:"Time Series Schema",id:"time-series-schema",level:2},{value:"Generic Time Series Entry Structure",id:"generic-time-series-entry-structure",level:3},{value:"Heart Rate Zones Time Series",id:"heart-rate-zones-time-series",level:3},{value:"Personal Bests Time Series",id:"personal-bests-time-series",level:3},{value:"Critical Speed Time Series",id:"critical-speed-time-series",level:3},{value:"Time Series Query Functions",id:"time-series-query-functions",level:3},{value:"Related Documentation",id:"related-documentation",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"database-schema-documentation",children:"Database Schema Documentation"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Version:"})," 2.2 (Verified against production database)\n",(0,r.jsx)(n.strong,{children:"Last Validated:"})," 2025-11-09\n",(0,r.jsx)(n.strong,{children:"Database:"})," MongoDB with 11 collections\n",(0,r.jsx)(n.strong,{children:"Total Documents:"})," Production deployment with multiple collections"]}),"\n",(0,r.jsxs)(n.p,{children:["For application architecture and data flow, see ",(0,r.jsx)(n.a,{href:"/docs/architecture/overview",children:"Architecture"}),". For configuration details, see ",(0,r.jsx)(n.a,{href:"/docs/overview",children:"Platform Overview"}),"."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This document provides comprehensive documentation of all MongoDB collections used in the SmartRunning Coach application. The database stores runner profiles, training sessions, workout libraries, training plans, and background job information."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Note: This schema reflects the ACTUAL production database structure"}),", validated against live MongoDB data."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"collections-summary",children:"Collections Summary"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Collection"}),(0,r.jsx)(n.th,{children:"Documents"}),(0,r.jsx)(n.th,{children:"Purpose"}),(0,r.jsx)(n.th,{children:"Key Relationships"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner"})}),(0,r.jsx)(n.td,{children:"4"}),(0,r.jsx)(n.td,{children:"Athlete profiles and settings"}),(0,r.jsx)(n.td,{children:"Links to sessions, plans, history"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sessionsFIT"})}),(0,r.jsx)(n.td,{children:"556"}),(0,r.jsx)(n.td,{children:"Raw FIT file data"}),(0,r.jsx)(n.td,{children:"Links to runner, GridFS files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sessionsParquet"})}),(0,r.jsx)(n.td,{children:"556"}),(0,r.jsx)(n.td,{children:"Processed session records"}),(0,r.jsx)(n.td,{children:"Links to runner, GridFS files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sessionStatistics"})}),(0,r.jsx)(n.td,{children:"556"}),(0,r.jsx)(n.td,{children:"Aggregated session metrics"}),(0,r.jsx)(n.td,{children:"Links to runner, sessions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runnerHistory"})}),(0,r.jsx)(n.td,{children:"1,256"}),(0,r.jsx)(n.td,{children:"Historical training load data"}),(0,r.jsx)(n.td,{children:"Links to runner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"workouts"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Workout library"}),(0,r.jsx)(n.td,{children:"Referenced by training plans"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"trainingplanschema"})}),(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"Training plan templates"}),(0,r.jsx)(n.td,{children:"Used to generate training plans"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"trainingplan"})}),(0,r.jsx)(n.td,{children:"993"}),(0,r.jsx)(n.td,{children:"Active training plan days"}),(0,r.jsx)(n.td,{children:"Links to runner, workouts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"background_jobs"})}),(0,r.jsx)(n.td,{children:"13"}),(0,r.jsx)(n.td,{children:"Async job tracking"}),(0,r.jsx)(n.td,{children:"Links to runner, files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fs.files"})}),(0,r.jsx)(n.td,{children:"1,112"}),(0,r.jsx)(n.td,{children:"GridFS file metadata"}),(0,r.jsx)(n.td,{children:"Links to sessions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fs.chunks"})}),(0,r.jsx)(n.td,{children:"1,644"}),(0,r.jsx)(n.td,{children:"GridFS file chunks"}),(0,r.jsx)(n.td,{children:"Links to fs.files"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"collection-schemas",children:"Collection Schemas"}),"\n",(0,r.jsx)(n.h3,{id:"1-runner",children:"1. runner"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores athlete profiles, physiological parameters, training metrics, and training plan configuration."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 4\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"runnerID_idx"}),", ",(0,r.jsx)(n.code,{children:"marathon_date_idx"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields (38 total):"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Validation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"}),(0,r.jsx)(n.td,{children:"MongoDB ObjectId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runnerID"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Human-readable runner identifier"}),(0,r.jsx)(n.td,{children:'Unique string (e.g., "Marc_001")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Runner's full name"}),(0,r.jsx)(n.td,{children:"Non-empty string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"age"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Runner's age"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Training Load Metrics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CTL_starting"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Initial Chronic Training Load"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ATL_starting"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Initial Acute Training Load"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CTL_current"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Current Chronic Training Load"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ATL_current"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Current Acute Training Load"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TSB_current"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Current Training Stress Balance"}),(0,r.jsx)(n.td,{children:"Float (can be negative)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ACWR_current"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["Current Acute",":Chronic"," Workload Ratio"]}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Banister Model Parameters"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"banister_k1"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Fitness gain coefficient"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"banister_k2"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Fatigue gain coefficient"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"banister_tau_f"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Fitness decay time constant (days)"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"banister_tau_fr"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Fatigue decay time constant (days)"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Heart Rate Zones (Legacy - Being Migrated)"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_1_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Zone 1 upper limit (bpm)"}),(0,r.jsx)(n.td,{children:"0-220 (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_2_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Zone 2 upper limit (bpm)"}),(0,r.jsx)(n.td,{children:"0-220 (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_3_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Zone 3 upper limit (bpm)"}),(0,r.jsx)(n.td,{children:"0-220 (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_4_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Zone 4 upper limit (bpm)"}),(0,r.jsx)(n.td,{children:"0-220 (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_5_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Zone 5 upper limit (bpm)"}),(0,r.jsx)(n.td,{children:"0-220 (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"heart_rate_zones_history"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Time series HR zones"}),(0,r.jsx)(n.td,{children:"See Time Series Schema"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Personal Bests (Legacy - Being Migrated)"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pb_400m_seconds"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"400m personal best time"}),(0,r.jsx)(n.td,{children:"Positive float (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pb_800m_seconds"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"800m personal best time"}),(0,r.jsx)(n.td,{children:"Positive float (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pb_5000m_seconds"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"5000m personal best time"}),(0,r.jsx)(n.td,{children:"Positive float (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"personal_bests_history"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Time series PBs by distance"}),(0,r.jsx)(n.td,{children:"See Time Series Schema"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Training Stress Score Thresholds"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss_min"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Minimum rTSS for workout"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss_max"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Maximum rTSS for workout"}),(0,r.jsx)(n.td,{children:"Non-negative float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Speed Metrics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"threshold_speed"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Threshold speed (m/s)"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Training Plan Configuration"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"blocks"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Number of training blocks"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"weeks_per_block"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Weeks per training block"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"taper_weeks"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Number of taper weeks"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"weekly_increment"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Weekly volume increase (%)"}),(0,r.jsx)(n.td,{children:"Positive float"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"training_days"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Scheduled training days"}),(0,r.jsx)(n.td,{children:"Array of integers (1-7)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"marathon_date"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Target marathon date"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"prep_start"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Preparation start date"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime or null"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Data Collections"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sessions"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Session references"}),(0,r.jsx)(n.td,{children:"Array (typically empty)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"schedules"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Schedule references"}),(0,r.jsx)(n.td,{children:"Array (typically empty)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"critical_speed_history"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Historical critical speed data"}),(0,r.jsx)(n.td,{children:"Array of objects (legacy)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"critical_speed_time_series"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Time series critical speed"}),(0,r.jsx)(n.td,{children:"See Time Series Schema"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Metadata"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Account creation timestamp"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updated_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Last modification timestamp"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"history_last_updated"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Last history update"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Critical Speed History Schema:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "critical_speed_history": [\n    {\n      "date": "2025-09-17T08:55:16.393Z",\n      "critical_speed": 3.189,        // m/s\n      "w_prime": 285.2,                // meters\n      "r_squared": 0.9986,             // model fit quality\n      "pb_400m_seconds": 65,\n      "pb_800m_seconds": 131,\n      "pb_5000m_seconds": 1480\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9062a04875c129365d4"),\n  "runnerID": "Marc_001",\n  "name": "Marc De Reu",\n  "age": 55,\n  "CTL_starting": 45.0,\n  "ATL_starting": 30.0,\n  "CTL_current": 49.1,\n  "ATL_current": 1.2,\n  "TSB_current": 47.87,\n  "ACWR_current": 0.025,\n  "banister_k1": 1.0,\n  "banister_k2": 2.0,\n  "banister_tau_f": 42.0,\n  "banister_tau_fr": 7.0,\n  "hr_zone_1_max": 100.0,\n  "hr_zone_2_max": 120.0,\n  "hr_zone_3_max": 140.0,\n  "hr_zone_4_max": 160.0,\n  "hr_zone_5_max": 200.0,\n  "pb_400m_seconds": 65.0,\n  "pb_800m_seconds": 131.0,\n  "pb_5000m_seconds": 1480.0,\n  "rtss_min": 30.0,\n  "rtss_max": 150.0,\n  "threshold_speed": 2.56,\n  "blocks": 4,\n  "weeks_per_block": 4,\n  "taper_weeks": 2,\n  "weekly_increment": 10.0,\n  "training_days": [1, 3, 5, 6],\n  "marathon_date": "2026-01-01T00:00:00",\n  "prep_start": null,\n  "sessions": [],\n  "schedules": [],\n  "critical_speed_history": [\n    {\n      "date": "2025-09-17T08:55:16.393Z",\n      "critical_speed": 3.189,\n      "w_prime": 285.2,\n      "r_squared": 0.9986,\n      "pb_400m_seconds": 65,\n      "pb_800m_seconds": 131,\n      "pb_5000m_seconds": 1480\n    }\n  ],\n  "created_at": "2025-09-12T10:42:14.274000",\n  "updated_at": "2025-09-17T08:55:16.397000",\n  "history_last_updated": "2025-09-12T11:19:12.011203"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"2-sessionsfit",children:"2. sessionsFIT"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores raw FIT file data and metadata for uploaded workout sessions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 556\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Validation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"}),(0,r.jsx)(n.td,{children:"MongoDB ObjectId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to runner"}),(0,r.jsx)(n.td,{children:"Valid runner._id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"GridFS file reference"}),(0,r.jsx)(n.td,{children:"Valid fs.files._id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"original_filename"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Original filename"}),(0,r.jsx)(n.td,{children:"Non-empty string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file_size"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"File size in bytes"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uploaded_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Upload timestamp"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"processed"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Processing status"}),(0,r.jsx)(n.td,{children:"true/false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parquet_files_created"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Count of parquet files"}),(0,r.jsx)(n.td,{children:"Non-negative integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"FIT file metadata"}),(0,r.jsx)(n.td,{children:"See Metadata Schema"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metadata Schema:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "metadata": {\n    "message_types": [\n      "file_id_mesgs",\n      "file_creator_mesgs",\n      "activity_mesgs",\n      "session_mesgs",\n      "lap_mesgs",\n      "record_mesgs",\n      // ... additional message types\n    ],\n    "total_messages": 13671,\n    "errors": [],\n    "session_info": {\n      "start_time": "2024-11-26T11:00:48",\n      "total_elapsed_time": 2986.878,    // seconds\n      "total_distance": 7861.87,          // meters\n      "sport": "running",\n      "sub_sport": "generic"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9122a04875c129365d6"),\n  "runner_id": ObjectId("68c3f9062a04875c129365d4"),\n  "original_filename": "tp-1581646.2024-11-26-11-58-13-283Z.GarminPing.AAAAAGdFt9Tjz2sX.FIT",\n  "file_id": ObjectId("68c3f9122a04875c129365d7"),\n  "file_size": 411633,\n  "uploaded_at": "2025-09-12T10:42:26.856000",\n  "processed": true,\n  "parquet_files_created": 1,\n  "metadata": {\n    "message_types": ["file_id_mesgs", "file_creator_mesgs", "activity_mesgs", "..."],\n    "total_messages": 13671,\n    "errors": [],\n    "session_info": {\n      "start_time": "2024-11-26T11:00:48",\n      "total_elapsed_time": 2986.878,\n      "total_distance": 7861.87,\n      "sport": "running",\n      "sub_sport": "generic"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"3-sessionsparquet",children:"3. sessionsParquet"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores processed session data with detailed record-level information in Parquet format."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 556\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Validation"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"}),(0,r.jsx)(n.td,{children:"MongoDB ObjectId"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to FIT session"}),(0,r.jsx)(n.td,{children:"Valid sessionsFIT._id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to runner"}),(0,r.jsx)(n.td,{children:"Valid runner._id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"original_fit_filename"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Source FIT filename"}),(0,r.jsx)(n.td,{children:"Non-empty string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parquet_filename"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Parquet filename"}),(0,r.jsx)(n.td,{children:"Non-empty string"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"GridFS parquet file"}),(0,r.jsx)(n.td,{children:"Valid fs.files._id"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file_size"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Parquet file size (bytes)"}),(0,r.jsx)(n.td,{children:"Positive integer"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Creation timestamp"}),(0,r.jsx)(n.td,{children:"ISO 8601 datetime"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Parquet structure metadata"}),(0,r.jsx)(n.td,{children:"See Metadata Schema"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metadata Schema:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "metadata": {\n    "rows": 2987,                        // Number of data records\n    "columns": 42,                       // Number of columns\n    "column_names": [\n      "cumulative_time",\n      "timestamp",\n      "position_lat",\n      "position_long",\n      "distance",\n      "enhanced_speed",\n      "enhanced_altitude",\n      "heart_rate",\n      "cadence",\n      "temperature",\n      // ... additional columns\n    ],\n    "data_types": {\n      "cumulative_time": "int64",\n      "timestamp": "datetime64[ns, UTC]",\n      "position_lat": "float64",\n      "position_long": "float64",\n      "distance": "float64",\n      "heart_rate": "float64",\n      "cadence": "float64",\n      // ... additional data types\n    },\n    "time_range": {\n      "start": "2024-11-26T11:00:48+00:00",\n      "end": "2024-11-26T11:50:34+00:00",\n      "duration_seconds": 2987\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9132a04875c129365dc"),\n  "session_id": ObjectId("68c3f9122a04875c129365d6"),\n  "runner_id": ObjectId("68c3f9062a04875c129365d4"),\n  "original_fit_filename": "tp-1581646.2024-11-26-11-58-13-283Z.GarminPing.AAAAAGdFt9Tjz2sX.FIT",\n  "parquet_filename": "tp-1581646.2024-11-26-11-58-13-283Z.GarminPing.AAAAAGdFt9Tjz2sX_record_mesgs.parquet",\n  "file_id": ObjectId("68c3f9132a04875c129365da"),\n  "file_size": 216719,\n  "created_at": "2025-09-12T10:42:26.856000",\n  "metadata": {\n    "rows": 2987,\n    "columns": 42,\n    "column_names": ["cumulative_time", "timestamp", "position_lat", "..."],\n    "data_types": {\n      "cumulative_time": "int64",\n      "timestamp": "datetime64[ns, UTC]",\n      "heart_rate": "float64"\n    },\n    "time_range": {\n      "start": "2024-11-26T11:00:48+00:00",\n      "end": "2024-11-26T11:50:34+00:00",\n      "duration_seconds": 2987\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"4-sessionstatistics",children:"4. sessionStatistics"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores aggregated statistics and derived metrics for training sessions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 556\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields (65 total):"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to session"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to runner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"processed_timestamp"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Calculation timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sport"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Activity type (e.g., "running")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sub_sport"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Sub-activity type (e.g., "generic")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Heart Rate Statistics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_mean_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average heart rate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_median_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Median heart rate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_std_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Heart rate std deviation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_min_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Minimum heart rate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_max_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Maximum heart rate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_max_session_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Session max heart rate"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_iqr_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Interquartile range"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_5th_percentile_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"5th percentile HR"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_95th_percentile_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"95th percentile HR"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Heart Rate Zones"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_1_recovery_pct"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"% time in zone 1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_1_recovery_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Seconds in zone 1"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_2_endurance_pct"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"% time in zone 2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_2_endurance_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Seconds in zone 2"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_3_tempo_pct"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"% time in zone 3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_3_tempo_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Seconds in zone 3"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_4_threshold_pct"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"% time in zone 4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_4_threshold_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Seconds in zone 4"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_5_vo2max_pct"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"% time in zone 5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_zone_5_vo2max_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Seconds in zone 5"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Speed Statistics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_mean_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average speed (m/s)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_median_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Median speed (m/s)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_std_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Speed std deviation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_min_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Minimum speed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_max_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Maximum speed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_iqr_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Interquartile range"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_5th_percentile_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"5th percentile speed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_95th_percentile_m_s"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"95th percentile speed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"speed_mean_ypm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average speed (yards/min)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Pace Statistics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_mean_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average pace (min/km)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_median_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Median pace (min/km)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_min_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Best pace (min/km)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_max_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Worst pace (min/km)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_std_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Pace std deviation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Efficiency Metrics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"efficiency_factor_mean"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average efficiency factor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"efficiency_factor_median"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Median efficiency factor"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"efficiency_factor_std"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Efficiency std deviation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Session Totals"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_duration_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Total duration (seconds)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_duration_minutes"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Total duration (minutes)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"total_distance_m"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Total distance (meters)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"total_distance_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Total distance (kilometers)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Elevation"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"elevation_gain_m"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Total elevation gain"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"elevation_loss_m"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Total elevation loss"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"min_altitude_m"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Minimum altitude"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_altitude_m"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Maximum altitude"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Cadence Statistics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cadence_mean_spm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average cadence (steps/min)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cadence_median_spm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Median cadence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cadence_std_spm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Cadence std deviation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cadence_min_spm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Minimum cadence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"cadence_max_spm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Maximum cadence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Personal Bests"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fastest_400m_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Best 400m split"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fastest_800m_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Best 800m split"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fastest_1km_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Best 1km split"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"fastest_5km_seconds"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Best 5km split"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pb_updates"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Personal best updates"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Training Metrics"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"performance_index"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Performance index"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Running Training Stress Score"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss_threshold_speed"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Threshold speed for rTSS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss_intensity_factor"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Intensity factor for rTSS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss_critical_speed"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Critical speed for rTSS"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3fa2a2a04875c12936b4f"),\n  "session_id": ObjectId("68c3f9122a04875c129365d6"),\n  "runner_id": ObjectId("68c3f9062a04875c129365d4"),\n  "processed_timestamp": "2025-09-12T10:47:03.589066",\n  "sport": "running",\n  "sub_sport": "generic",\n  "hr_mean_bpm": 145.48,\n  "hr_median_bpm": 143.0,\n  "hr_max_bpm": 166.0,\n  "hr_zone_3_tempo_pct": 28.89,\n  "hr_zone_3_tempo_seconds": 863,\n  "hr_zone_4_threshold_pct": 57.88,\n  "hr_zone_4_threshold_seconds": 1729,\n  "speed_mean_m_s": 2.66,\n  "pace_mean_min_km": 7.72,\n  "efficiency_factor_mean": 1.20,\n  "session_duration_seconds": 2986,\n  "session_duration_minutes": 49.77,\n  "total_distance_m": 7861.87,\n  "total_distance_km": 7.86,\n  "elevation_gain_m": 53.80,\n  "cadence_mean_spm": 79.31,\n  "fastest_1km_seconds": 351,\n  "fastest_5km_seconds": 1882,\n  "rtss": 89.74,\n  "rtss_threshold_speed": 2.56,\n  "rtss_intensity_factor": 1.04\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"5-runnerhistory",children:"5. runnerHistory"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores historical training load progression and daily aggregated metrics."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 1,256\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to runner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"History date"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_ids"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Session ObjectIds for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Training Load (Banister Model)"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Running Training Stress Score"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CTL"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Chronic Training Load"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ATL"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Acute Training Load"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TSB"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Training Stress Balance"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ACWR"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["Acute",":Chronic"," Workload Ratio"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Daily Aggregates"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"total_distance_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Total distance for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_duration_minutes"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Total duration for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"hr_mean_bpm"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average HR for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pace_mean_min_km"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average pace for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"efficiency_factor_mean"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Average efficiency for day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Calendar Info"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"week_number"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"ISO week number"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"year"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Year"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Metadata"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updated_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Last update timestamp"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c4017c2a04875c12937249"),\n  "runner_id": ObjectId("68c3fa4e2a04875c12936b59"),\n  "date": "2024-09-07T00:00:00",\n  "session_ids": [ObjectId("68c3fb7e2a04875c12936f31")],\n  "rtss": 47.75,\n  "CTL": 45.0,\n  "ATL": 30.0,\n  "TSB": 15.0,\n  "ACWR": 0.67,\n  "total_distance_km": 23.58,\n  "session_duration_minutes": 409.8,\n  "hr_mean_bpm": 134.30,\n  "pace_mean_min_km": 11.24,\n  "efficiency_factor_mean": 0.32,\n  "week_number": 36,\n  "year": 2024,\n  "updated_at": "2025-09-12T11:18:20.076370"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"6-trainingplan",children:"6. trainingplan"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Stores individual days of active training plans. ",(0,r.jsx)(n.strong,{children:"Each document represents a single day"})," in a training plan. Supports versioning for mid-plan regeneration."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 993\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"date_idx"}),", ",(0,r.jsx)(n.code,{children:"training_days_idx"}),", ",(0,r.jsx)(n.code,{children:"week_idx"}),", ",(0,r.jsx)(n.code,{children:"session_code_idx"}),", ",(0,r.jsx)(n.code,{children:"date_training_idx"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Important:"})," This is a ",(0,r.jsx)(n.strong,{children:"flat structure"})," - one document per day, not nested blocks/weeks."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"trainingplanID"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Plan identifier (UUID) - same across versions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runnerID"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Runner identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"date"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Date for this day"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"weekday"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Day of week (0=Monday, 6=Sunday)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"week"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Week number in plan"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"phase"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Training phase (e.g., \"('block', 1)\")"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_training"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Is this a training day?"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"recovery"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Is this a recovery day?"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rTSS"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Planned training stress score"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CTL"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Projected Chronic Training Load"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ATL"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Projected Acute Training Load"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TSB"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Projected Training Stress Balance"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ACWR"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsxs)(n.td,{children:["Projected Acute",":Chronic"," Workload Ratio"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_code"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to workout (empty if rest day)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"creationdate"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"When plan was created"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"version"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Version number (1, 2, 3, ...)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parent_version"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Previous version number (null for v1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_latest"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Is this the current version?"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"regeneration_date"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"When this version was regenerated (null for v1)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"regeneration_reason"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Why regeneration occurred (high_acwr, illness, manual, other)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Query Patterns:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'// Get latest version of a training plan (RECOMMENDED)\ndb.trainingplan.find({\n  trainingplanID: "uuid",\n  is_latest: true\n}).sort({ date: 1 })\n\n// Get all versions of a training plan\ndb.trainingplan.find({\n  trainingplanID: "uuid"\n}).sort({ version: -1, date: 1 })\n\n// Get specific version\ndb.trainingplan.find({\n  trainingplanID: "uuid",\n  version: 2\n}).sort({ date: 1 })\n\n// Get specific week of latest version\ndb.trainingplan.find({\n  trainingplanID: "uuid",\n  is_latest: true,\n  week: 1\n}).sort({ date: 1 })\n\n// Get training days only (latest version)\ndb.trainingplan.find({\n  trainingplanID: "uuid",\n  is_latest: true,\n  is_training: true\n})\n\n// Get version metadata\ndb.trainingplan.aggregate([\n  { $match: { trainingplanID: "uuid" } },\n  { $group: {\n      _id: "$version",\n      parent_version: { $first: "$parent_version" },\n      is_latest: { $first: "$is_latest" },\n      regeneration_date: { $first: "$regeneration_date" },\n      regeneration_reason: { $first: "$regeneration_reason" },\n      total_days: { $sum: 1 }\n    }\n  },\n  { $sort: { _id: -1 } }\n])\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Versioning Behavior:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Same ",(0,r.jsx)(n.code,{children:"trainingplanID"})," across all versions of a plan"]}),"\n",(0,r.jsxs)(n.li,{children:["Only one version has ",(0,r.jsx)(n.code,{children:"is_latest: true"})," at a time"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"version"})," increments: 1, 2, 3, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"parent_version"})," links to previous version (forms chain)"]}),"\n",(0,r.jsx)(n.li,{children:"Historical versions preserved forever (immutable)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Documents:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version 1 (Original Plan):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f360bff7cc7967116ee8"),\n  "trainingplanID": "145d05ec-1873-42ea-a5b4-8cf6b8e7a6a2",\n  "runnerID": "HDL",\n  "date": "2025-09-01T00:00:00",\n  "weekday": 0,\n  "week": 1,\n  "phase": "(\'block\', 1)",\n  "is_training": false,\n  "recovery": false,\n  "rTSS": 0.0,\n  "CTL": 12.8,\n  "ATL": 2.4,\n  "TSB": 10.4,\n  "ACWR": 0.19,\n  "session_code": "",\n  "creationdate": "2025-09-12T10:16:37.825000",\n  "version": 1,\n  "parent_version": null,\n  "is_latest": false,  // Superseded by v2\n  "regeneration_date": null,\n  "regeneration_reason": null\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Version 2 (Regenerated After ACWR Spike):"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f361bff7cc7967116ee9"),\n  "trainingplanID": "145d05ec-1873-42ea-a5b4-8cf6b8e7a6a2",  // Same ID\n  "runnerID": "HDL",\n  "date": "2025-10-15T00:00:00",  // Later date\n  "weekday": 2,\n  "week": 8,\n  "phase": "(\'block\', 2)",\n  "is_training": true,\n  "recovery": false,\n  "rTSS": 85.0,  // Re-optimized value\n  "CTL": 58.3,   // Re-calculated\n  "ATL": 42.1,   // Re-calculated\n  "TSB": 16.2,   // Re-calculated\n  "ACWR": 0.72,  // Re-calculated\n  "session_code": "END4-W8D3-E4925C",\n  "creationdate": "2025-09-12T10:16:37.825000",  // Original creation\n  "version": 2,\n  "parent_version": 1,\n  "is_latest": true,  // Current version\n  "regeneration_date": "2025-11-07T14:30:00.000000",\n  "regeneration_reason": "high_acwr"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"7-trainingplanschema",children:"7. trainingplanschema"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Templates for generating periodized training plans with multiple training blocks. ",(0,r.jsxs)(n.strong,{children:["This is different from ",(0,r.jsx)(n.code,{children:"trainingplan"})]})," - schemas are templates, trainingplan documents are actual scheduled days."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 3\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," Not verified"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Schema name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"description"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Schema description"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"author"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Author name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"blocks"})}),(0,r.jsx)(n.td,{children:"Array"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Training blocks array"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_public"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Public visibility flag (true = visible to all)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_by"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"User ID of creator (null for grandfathered data)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Creation timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_modified"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Last modification timestamp"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Block Schema:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "blocks": [\n    {\n      "block_type": "Volume 1",        // Block name/phase\n      "workouts": [\n        {\n          "day_in_the_week": "Monday",\n          "day_in_week": 1,            // 1-7\n          "performed": false,\n          "rtss": 50,\n          "sequence_of_execution": 1,\n          "session_code": "END4-W1D1-E4924B",\n          "session_definition": "Interval session: 5 x 45\\"",\n          "session_type": "interval",   // interval, LSD, recovery, tempo\n          "week_in_block": 1,\n          "workout_id": null\n        }\n      ]\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Sample Document:"})," See validation report for full example with nested blocks and workouts."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"8-workouts",children:"8. workouts"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Library of reusable workout templates in ZWO (Zwift Workout) XML format."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 63\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," Not verified"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filename"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Generated filename (e.g., "Workout-Name-ABC123.zwo")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"author"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Workout author/creator name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"name"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Workout name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"description"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Workout description"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"sport_type"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Sport type (e.g., "run")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"duration_type"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Duration measurement type (e.g., "time")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"tags"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Comma-separated tags"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"workout_type"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Workout category (interval, LSD, recovery, tempo)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"session_id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Session identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rtss"})}),(0,r.jsx)(n.td,{children:"Float"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Running Training Stress Score"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"raw_xml"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Complete ZWO XML content"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"file_size"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"XML file size in bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"is_public"})}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Public visibility flag (true = visible to all)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_by"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"User ID of creator (null for grandfathered data)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uploaded_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Upload timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"last_modified"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Last modification timestamp"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"9-background_jobs",children:"9. background_jobs"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Tracks asynchronous background tasks (file processing, analysis)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 13\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job_id"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"UUID job identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"job_type"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:'Job category (e.g., "file_processing")'})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"runner_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Associated runner"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"parameters"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Job input parameters"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"status"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Current status"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"progress"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Completion percentage (0-100)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"result"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Job output results"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"error"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Error details if failed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Job creation time"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"started_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Processing start time"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"completed_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"No"}),(0,r.jsx)(n.td,{children:"Completion time"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updated_at"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Last update time"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Status Values:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pending"})," - Queued for processing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"running"})," - Currently executing"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"completed"})," - Finished successfully"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"failed"})," - Error occurred"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cancelled"})," - User cancelled"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Job Type Values:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"file_processing"})," - FIT file upload and processing"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9112a04875c129365d5"),\n  "job_id": "fbc90b6c-2443-4a1d-b4b1-83d5152312a8",\n  "job_type": "file_processing",\n  "runner_id": ObjectId("68c3f9062a04875c129365d4"),\n  "parameters": {\n    "temp_files": ["/app/data/uploads/temp_20250912_104224_941199_WorkoutFileExport.zip"],\n    "file_count": 1\n  },\n  "status": "completed",\n  "progress": 100,\n  "result": {\n    "total_files": 1,\n    "processed_fit_files": 188,\n    "processed_parquet_files": 0,\n    "skipped_duplicates": 0,\n    "failed_files": 0,\n    "errors": [],\n    "session_ids": ["68c3f9122a04875c129365d6", "..."]\n  },\n  "error": null,\n  "created_at": "2025-09-12T10:42:25.039000",\n  "started_at": null,\n  "completed_at": "2025-09-12T10:47:02.465000",\n  "updated_at": "2025-09-12T10:47:02.465000"\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"10-fsfiles-gridfs",children:"10. fs.files (GridFS)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," GridFS metadata for storing large binary files (FIT files, Parquet files)."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 4,260\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"filename_1_uploadDate_1"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"filename"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Original filename"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"contentType"})}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"MIME type"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"chunkSize"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Chunk size (default 255KB)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"length"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"File size in bytes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uploadDate"})}),(0,r.jsx)(n.td,{children:"DateTime"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Upload timestamp"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"metadata"})}),(0,r.jsx)(n.td,{children:"Object"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"File ownership and linkage information (added Oct 2025)"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Metadata Schema:"})}),"\n",(0,r.jsxs)(n.p,{children:["Since October 2025, all GridFS files include a ",(0,r.jsx)(n.code,{children:"metadata"})," field for direct file ownership tracking and linkage verification."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For FIT files:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "runner_id": "68c3f9062a04875c129365d4",  // Links to runner._id (as string)\n  "file_type": "fit",                      // Identifies file type\n  "session_id": "68c3f9122a04875c129365d6", // Links to sessionsFIT._id (as string)\n  "session_date": "2024-11-26T11:00:48",   // Session start time\n  "uploaded_at": "2025-09-12T10:42:27.047000" // Upload timestamp\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"For Parquet files:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "runner_id": "68c3f9062a04875c129365d4",  // Links to runner._id (as string)\n  "file_type": "parquet",                  // Identifies file type\n  "fit_session_id": "68c3f9122a04875c129365d6",  // Links to sessionsFIT._id\n  "parquet_session_id": "68c3f9132a04875c129365da", // Links to sessionsParquet._id\n  "created_at": "2025-09-12T10:42:27.047000" // Creation timestamp\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Documents:"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"FIT file:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9122a04875c129365d7"),\n  "filename": "tp-1581646.2024-11-26-11-58-13-283Z.GarminPing.AAAAAGdFt9Tjz2sX.FIT",\n  "contentType": "application/octet-stream",\n  "chunkSize": 261120,\n  "length": 411633,\n  "uploadDate": "2025-09-12T10:42:27.047000",\n  "metadata": {\n    "runner_id": "68c3f9062a04875c129365d4",\n    "file_type": "fit",\n    "session_id": "68c3f9122a04875c129365d6",\n    "session_date": "2024-11-26T11:00:48",\n    "uploaded_at": "2025-09-12T10:42:27.047000"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parquet file:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9132a04875c129365da"),\n  "filename": "tp-1581646.2024-11-26-11-58-13-283Z.GarminPing.AAAAAGdFt9Tjz2sX_record_mesgs.parquet",\n  "contentType": "application/octet-stream",\n  "chunkSize": 261120,\n  "length": 216719,\n  "uploadDate": "2025-09-12T10:42:27.047000",\n  "metadata": {\n    "runner_id": "68c3f9062a04875c129365d4",\n    "file_type": "parquet",\n    "fit_session_id": "68c3f9122a04875c129365d6",\n    "parquet_session_id": "68c3f9132a04875c129365da",\n    "created_at": "2025-09-12T10:42:27.047000"\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Benefits of Metadata:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Direct file ownership queries without joining through sessions"}),"\n",(0,r.jsx)(n.li,{children:"Orphaned file detection (files with no corresponding session records)"}),"\n",(0,r.jsx)(n.li,{children:"Redundancy protection if sessionsFIT/sessionsParquet get corrupted"}),"\n",(0,r.jsx)(n.li,{children:"Simplified runner deletion (can find all files directly)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Migration Status:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Retroactive migration completed:"})," Oct 21, 2025"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Files migrated:"})," 4,218 files (2,109 FIT + 2,109 Parquet)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Orphaned files found:"})," 42 files (no session records)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Future uploads:"})," All new uploads automatically include metadata"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"11-fschunks-gridfs",children:"11. fs.chunks (GridFS)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," GridFS chunks storing actual binary data for large files."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Document Count:"})," 1,644\n",(0,r.jsx)(n.strong,{children:"Indexes:"})," ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"files_id_1_n_1"})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Fields:"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Unique identifier"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"files_id"})}),(0,r.jsx)(n.td,{children:"ObjectId"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Reference to fs.files"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"n"})}),(0,r.jsx)(n.td,{children:"Integer"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Chunk sequence number"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"data"})}),(0,r.jsx)(n.td,{children:"Binary"}),(0,r.jsx)(n.td,{children:"Yes"}),(0,r.jsx)(n.td,{children:"Binary chunk data"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Sample Document:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "_id": ObjectId("68c3f9122a04875c129365d8"),\n  "files_id": ObjectId("68c3f9122a04875c129365d7"),\n  "n": 0,\n  "data": BinData(0, "...")  // Binary data chunk\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"relationships-diagram",children:"Relationships Diagram"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"runner (1) \u2500\u2500\u2500\u2500\u2500\u2500< (many) sessionsFIT\n  \u2502                         \u2502\n  \u2502                         \u2514\u2500\u2500> fs.files (GridFS)\n  \u2502\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500< (many) sessionsParquet\n  \u2502                         \u2502\n  \u2502                         \u2514\u2500\u2500> fs.files (GridFS)\n  \u2502\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500< (many) sessionStatistics\n  \u2502                         \u2502\n  \u2502                         \u2514\u2500\u2500> sessionsParquet (reference)\n  \u2502\n  \u251c\u2500\u2500\u2500\u2500\u2500\u2500< (many) runnerHistory\n  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500< (many) trainingplan (by runnerID string)\n                    \u2502\n                    \u2514\u2500\u2500> workouts (via session_code)\n\ntrainingplanschema \u2500\u2500> Used to generate trainingplan documents\n\nbackground_jobs \u2500\u2500> runner (optional)\n                 \u2500\u2500> fs.files (for file processing jobs)\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"data-flow",children:"Data Flow"}),"\n",(0,r.jsx)(n.h3,{id:"1-session-upload-flow",children:"1. Session Upload Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"User uploads FIT file\n    \u2193\nStore in GridFS (fs.files, fs.chunks)\n    \u2193\nCreate sessionsFIT record with metadata\n    \u2193\nBackground job processes FIT file\n    \u2193\nExtract records \u2192 Store as Parquet in GridFS\n    \u2193\nCreate sessionsParquet record with metadata\n    \u2193\nCalculate statistics \u2192 Create sessionStatistics record\n    \u2193\nUpdate runnerHistory with new training load\n    \u2193\nUpdate runner training load metrics\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-training-plan-creation-flow",children:"2. Training Plan Creation Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"User selects trainingplanschema template\n    \u2193\nSystem reads runner configuration (blocks, weeks_per_block, training_days, etc.)\n    \u2193\nGenerate individual day documents for entire plan duration\n    \u2193\nFor each day:\n  - Calculate projected training load metrics\n  - Assign workouts based on schema\n  - Set is_training, recovery flags\n    \u2193\nInsert ~100+ trainingplan documents (one per day)\n    \u2193\nDisplay calendar view by querying trainingplanID\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-personal-best-update-flow",children:"3. Personal Best Update Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"User completes workout session\n    \u2193\nUpload and process session (sessionsFIT \u2192 sessionsParquet \u2192 sessionStatistics)\n    \u2193\nCalculate fastest splits across multiple distances\n    \u2193\nCompare with runner personal best records\n    \u2193\nIf new PB: Update runner document\n    \u2193\nIf sufficient PBs exist: Recalculate performance metrics\n    \u2193\nPush new entry to runner performance history array\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,r.jsx)(n.h3,{id:"current-indexes",children:"Current Indexes"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Actual production indexes:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"runner"}),": ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"runnerID_idx"}),", ",(0,r.jsx)(n.code,{children:"marathon_date_idx"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"trainingplan"}),": ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"date_idx"}),", ",(0,r.jsx)(n.code,{children:"training_days_idx"}),", ",(0,r.jsx)(n.code,{children:"week_idx"}),", ",(0,r.jsx)(n.code,{children:"session_code_idx"}),", ",(0,r.jsx)(n.code,{children:"date_training_idx"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fs.chunks"}),": ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"files_id_1_n_1"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fs.files"}),": ",(0,r.jsx)(n.code,{children:"_id_"}),", ",(0,r.jsx)(n.code,{children:"filename_1_uploadDate_1"})]}),"\n",(0,r.jsxs)(n.li,{children:["All other collections: ",(0,r.jsx)(n.code,{children:"_id_"})," only"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"performance-indexes",children:"Performance Indexes"}),"\n",(0,r.jsx)(n.p,{children:"Query performance indexes used in the system:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Query sessions by runner\ndb.sessionsFIT.createIndex({ runner_id: 1, uploaded_at: -1 })\ndb.sessionsParquet.createIndex({ runner_id: 1, created_at: -1 })\ndb.sessionStatistics.createIndex({ runner_id: 1, processed_timestamp: -1 })\n\n// Session statistics unique constraint\ndb.sessionStatistics.createIndex({ session_id: 1 }, { unique: true })\n\n// Time series queries on runner history\ndb.runnerHistory.createIndex({ runner_id: 1, date: -1 })\n\n// Background job queries\ndb.background_jobs.createIndex({ runner_id: 1, status: 1 })\ndb.background_jobs.createIndex({ created_at: -1 })\n"})}),"\n",(0,r.jsx)(n.h3,{id:"query-patterns",children:"Query Patterns"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Most common queries:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Get all sessions for runner: ",(0,r.jsx)(n.code,{children:"db.sessionsFIT.find({ runner_id: ObjectId(...) })"})]}),"\n",(0,r.jsxs)(n.li,{children:["Get runner history: ",(0,r.jsx)(n.code,{children:"db.runnerHistory.find({ runner_id: ObjectId(...) }).sort({ date: -1 })"})]}),"\n",(0,r.jsxs)(n.li,{children:["Get training plan days: ",(0,r.jsx)(n.code,{children:'db.trainingplan.find({ trainingplanID: "uuid" }).sort({ date: 1 })'})]}),"\n",(0,r.jsxs)(n.li,{children:["Get session statistics: ",(0,r.jsx)(n.code,{children:"db.sessionStatistics.findOne({ session_id: ObjectId(...) })"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"validation-and-constraints",children:"Validation and Constraints"}),"\n",(0,r.jsx)(n.h3,{id:"business-logic-constraints",children:"Business Logic Constraints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"runner.marathon_date"})," contains target race date"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"trainingplan.date"})," aligns with trainingplanID date range"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"sessionStatistics.session_id"})," is unique (one stats doc per session)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"runnerHistory.date"})," is unique per runner (one history doc per day per runner)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"background_jobs.progress"})," ranges from 0-100"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"data-type-constraints",children:"Data Type Constraints"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ObjectId"}),": Valid 24-character hex string"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Dates"}),": ISO 8601 format (YYYY-MM-DDTHH:MM",":SS",")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Numbers"}),": Within logical ranges (HR 0-220, speeds > 0, percentages 0-100)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"referential-integrity",children:"Referential Integrity"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When deleting a runner:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should cascade delete: sessionsFIT, sessionsParquet, sessionStatistics, runnerHistory, background_jobs"}),"\n",(0,r.jsx)(n.li,{children:"Should handle trainingplan documents (query by runnerID string)"}),"\n",(0,r.jsx)(n.li,{children:"Should delete associated GridFS files"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"When deleting a workout from library:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check if referenced by trainingplanschema"}),"\n",(0,r.jsx)(n.li,{children:"Prevent deletion or nullify references"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"schema-version-history",children:"Schema Version History"}),"\n",(0,r.jsx)(n.h3,{id:"version-22-current",children:"Version 2.2 (Current)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Training plan versioning support with parent-child relationships"}),"\n",(0,r.jsx)(n.li,{children:"Enhanced query patterns for version filtering"}),"\n",(0,r.jsx)(n.li,{children:"Support for mid-plan regeneration with reason tracking"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"version-21-time-series-migration",children:"Version 2.1 (Time Series Migration)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Added time series structures for heart rate zones, PBs, and critical speed"}),"\n",(0,r.jsx)(n.li,{children:"Legacy fields marked for migration"}),"\n",(0,r.jsx)(n.li,{children:"New standardized time series schema"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"version-20-2025-10-02",children:"Version 2.0 (2025-10-02)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Validated against production database"})}),"\n",(0,r.jsx)(n.li,{children:"Updated runner schema to match actual 38 fields"}),"\n",(0,r.jsx)(n.li,{children:"Corrected trainingplan to flat structure (one doc per day)"}),"\n",(0,r.jsx)(n.li,{children:"Fixed sessionsFIT/sessionsParquet metadata organization"}),"\n",(0,r.jsx)(n.li,{children:"Updated background_jobs field names (parameters/result)"}),"\n",(0,r.jsx)(n.li,{children:"Removed non-existent metadata from fs.files"}),"\n",(0,r.jsx)(n.li,{children:"Added runnerHistory additional fields"}),"\n",(0,r.jsx)(n.li,{children:"Documented current database indexes"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"version-10-initial",children:"Version 1.0 (Initial)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Created from code analysis (had discrepancies with actual DB)"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"time-series-schema",children:"Time Series Schema"}),"\n",(0,r.jsx)(n.p,{children:"All time series data follows a consistent structure to track changes over time."}),"\n",(0,r.jsx)(n.h3,{id:"generic-time-series-entry-structure",children:"Generic Time Series Entry Structure"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "timestamp": ISODate("2025-01-01T00:00:00.000Z"),  // When this value is effective\n  "value": <any>,                                      // The actual value (can be object)\n  "source": "manual|calculated|imported|session",      // How this value was obtained\n  "notes": "Optional notes about this entry"           // Optional context\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"heart-rate-zones-time-series",children:"Heart Rate Zones Time Series"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "heart_rate_zones_history": [\n    {\n      "timestamp": ISODate("2025-01-01T00:00:00.000Z"),\n      "value": {\n        "hr_zone_1_max": 125,\n        "hr_zone_2_max": 146,\n        "hr_zone_3_max": 167,\n        "hr_zone_4_max": 188,\n        "hr_zone_5_max": 209\n      },\n      "source": "age_calculated",\n      "notes": "Calculated from age using HUNT formula"\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"personal-bests-time-series",children:"Personal Bests Time Series"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "personal_bests_history": {\n    "400m": [\n      {\n        "timestamp": ISODate("2025-01-15T00:00:00.000Z"),\n        "value": {\n          "distance": "400m",\n          "seconds": 65.5,\n          "session_id": "optional_session_reference"\n        },\n        "source": "session",\n        "notes": null\n      }\n    ],\n    "800m": [...],\n    "5000m": [...]\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"critical-speed-time-series",children:"Critical Speed Time Series"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:'{\n  "critical_speed_time_series": [\n    {\n      "timestamp": ISODate("2025-01-15T00:00:00.000Z"),\n      "value": {\n        "critical_speed": 3.189,        // m/s\n        "w_prime": 285.2,               // anaerobic capacity (meters)\n        "r_squared": 0.9986,            // regression fit quality\n        "pb_400m_seconds": 65.5,        // PBs used for calculation\n        "pb_800m_seconds": 131.2,\n        "pb_5000m_seconds": 1480\n      },\n      "source": "calculated",\n      "notes": null\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"time-series-query-functions",children:"Time Series Query Functions"}),"\n",(0,r.jsx)(n.p,{children:"The application provides utility functions for time series operations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_value_at_date()"})," - Get the value that was active at a specific date"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_latest_value()"})," - Get the most recent value"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"add_value()"})," - Add a new value to the time series"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"get_value_history()"})," - Get historical values within a date range"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/architecture/overview",children:"Architecture"})," - System architecture and data flow"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/overview",children:"Platform Overview"})," - Application features and API documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/storage/mongodb-setup",children:"MongoDB Setup"})," - MongoDB connection troubleshooting"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/guides/troubleshooting",children:"Troubleshooting"})," - Common issues and solutions"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Schema Version:"})," 2.2\n",(0,r.jsx)(n.strong,{children:"Last Validated:"})," 2025-11-09\n",(0,r.jsx)(n.strong,{children:"Database:"})," Production MongoDB deployment\n",(0,r.jsx)(n.strong,{children:"Validation Method:"})," Direct MongoDB connection and document analysis\n",(0,r.jsx)(n.strong,{children:"Total Collections:"})," 11\n",(0,r.jsx)(n.strong,{children:"Total Documents:"})," Production scale deployment"]})]})}function j(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);