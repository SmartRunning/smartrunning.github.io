<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Platform Overview | SmartRunning</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://smartrunning.github.io/img/SRC_logo.png"><meta data-rh="true" name="twitter:image" content="https://smartrunning.github.io/img/SRC_logo.png"><meta data-rh="true" property="og:url" content="https://smartrunning.github.io/docs/overview"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Platform Overview | SmartRunning"><meta data-rh="true" name="description" content="Full-stack application for managing running training plans. The platform tracks performance metrics, analyzes training sessions, and generates training plans based on physiological models."><meta data-rh="true" property="og:description" content="Full-stack application for managing running training plans. The platform tracks performance metrics, analyzes training sessions, and generates training plans based on physiological models."><link data-rh="true" rel="icon" href="/img/src_favicon.ico"><link data-rh="true" rel="canonical" href="https://smartrunning.github.io/docs/overview"><link data-rh="true" rel="alternate" href="https://smartrunning.github.io/docs/overview" hreflang="en"><link data-rh="true" rel="alternate" href="https://smartrunning.github.io/docs/overview" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.2b48f0f9.css">
<script src="/assets/js/runtime~main.61a3d301.js" defer="defer"></script>
<script src="/assets/js/main.115e87cd.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/SRC_logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/SRC_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/SRC_logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">SmartRunning</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/blog">Releases</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SmartRunning" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">SmartRunning intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/docs/overview">Platform Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/beta/HowTo">Beta</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/architecture/overview">Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/storage/database-schema">Storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/guides/troubleshooting">Guides</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/privacy">Privacy Policy</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Platform Overview</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SmartRunning Training Optimization Platform</h1></header>
<p>Full-stack application for managing running training plans. The platform tracks performance metrics, analyzes training sessions, and generates training plans based on physiological models.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="core-functionality">Core Functionality<a href="#core-functionality" class="hash-link" aria-label="Direct link to Core Functionality" title="Direct link to Core Functionality">​</a></h3>
<ul>
<li><strong>Authentication &amp; Authorization</strong>: Role-based access control with Admin, Coach, and Runner roles</li>
<li><strong>Runner Management</strong>: Create, update, and manage athlete profiles with detailed physiological parameters</li>
<li><strong>Onboarding Workflow</strong>: 4-step wizard for new runners to complete their profile</li>
<li><strong>Session Processing</strong>: Upload and analyze FIT files from Garmin devices and other fitness trackers</li>
<li><strong>Performance Analytics</strong>: Calculate training metrics using physiological models</li>
<li><strong>Performance Analysis</strong>: Calculate running performance metrics from personal best times</li>
<li><strong>Heart Rate Zone Calculation</strong>: Automatic calculation of training zones using HUNT formula based on age</li>
<li><strong>Training Plan Generation</strong>: Automated creation of personalized training plans based on athlete metrics</li>
<li><strong>Workout Library</strong>: Manage ZWO workout files for structured training sessions</li>
<li><strong>Historical Analysis</strong>: Track performance trends and personal records over time</li>
<li><strong>Performance Trends Visualization</strong>: Interactive charts showing PB progression and performance metrics evolution with time-series data</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-components">Key Components<a href="#key-components" class="hash-link" aria-label="Direct link to Key Components" title="Direct link to Key Components">​</a></h3>
<ul>
<li>Session statistics calculation (pace, heart rate zones, efficiency metrics)</li>
<li>Automated personal best tracking across multiple distances</li>
<li>Performance metric calculation using regression analysis</li>
<li><strong>Automatic performance calculation on profile creation with default values</strong></li>
<li>Heart rate zone calculation using HUNT formula</li>
<li>Intelligent zone assignment with customizable percentages</li>
<li>Training load modeling using physiological stress scoring</li>
<li>Multi-block periodized training plan structure</li>
<li>Support for batch file processing (FIT and ZIP files)</li>
<li>Admin dashboard for workout and training plan management</li>
<li><strong>Centralized runner creation service ensuring consistent default values across all entry points</strong></li>
<li><strong>Time-series data storage for PBs, Heart Rate Zones, and performance metrics with historical tracking</strong></li>
<li><strong>Chronological session processing with automatic PB detection and performance recalculation</strong></li>
<li><strong>Period-appropriate statistics calculation using values valid at session date</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technologies">Technologies<a href="#technologies" class="hash-link" aria-label="Direct link to Technologies" title="Direct link to Technologies">​</a></h2>
<p><strong>Backend:</strong> Flask 3.0.0, Python 3.11-3.13, MongoDB with GridFS
<strong>Frontend:</strong> HTML5/CSS3, JavaScript, Bootstrap, Chart.js
<strong>Data Processing:</strong> Pandas, NumPy, SciPy, scikit-learn, PyArrow, Custom Garmin FIT SDK
<strong>Infrastructure:</strong> Docker, Kubernetes, Google Cloud Platform</p>
<p>For detailed technology stack and version information, see <a href="/docs/architecture/overview">Architecture</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Docker and Docker Compose installed</li>
<li>MongoDB Atlas account or local MongoDB instance</li>
<li>Python 3.11-3.13 (for local development only)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="using-docker-recommended">Using Docker (Recommended)<a href="#using-docker-recommended" class="hash-link" aria-label="Direct link to Using Docker (Recommended)" title="Direct link to Using Docker (Recommended)">​</a></h3>
<ol>
<li>Configure environment variables (repository should already be cloned):</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp .env.example .env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Edit .env with your MongoDB connection string</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Build and start the containers:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose up --build</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Run migrations to create users collection:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">docker exec -it running-app python -m app.migrations.001_create_users_collection up</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Access the application:</li>
</ol>
<ul>
<li>Main application: <code>http://localhost:[port]</code></li>
<li>Login page: <code>http://localhost:[port]/auth/login</code></li>
<li>Admin dashboard: <code>http://localhost:[port]/admin</code> (requires admin role)</li>
</ul>
<p><strong>First-time setup</strong>: After running migrations, an initial admin user is created:</p>
<ul>
<li>Username: <code>admin</code></li>
<li>Password: <code>changeme</code></li>
<li><strong>Important</strong>: Change this password immediately after first login</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="local-development-without-docker">Local Development (Without Docker)<a href="#local-development-without-docker" class="hash-link" aria-label="Direct link to Local Development (Without Docker)" title="Direct link to Local Development (Without Docker)">​</a></h3>
<ol>
<li>Create virtual environment:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python -m venv venv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source venv/bin/activate  # On Windows: venv\Scripts\activate</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>Install dependencies:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip install -r requirements.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>Set environment variables:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export FLASK_APP=app.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export FLASK_ENV=development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Or use .env file with python-dotenv</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>Run the application:</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python app.py</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="kubernetes-deployment-production">Kubernetes Deployment (Production)<a href="#kubernetes-deployment-production" class="hash-link" aria-label="Direct link to Kubernetes Deployment (Production)" title="Direct link to Kubernetes Deployment (Production)">​</a></h3>
<p>The application includes Kubernetes deployment configurations for Google Cloud Platform:</p>
<ol>
<li>
<p><strong>Prerequisites</strong>:</p>
<ul>
<li>Google Cloud Platform account with billing enabled</li>
<li><code>gcloud</code> CLI tool installed and configured</li>
<li><code>kubectl</code> configured to access your GKE cluster</li>
<li>Docker image built and pushed to Google Artifact Registry</li>
<li>SSL/TLS support automatically configured via included certificates</li>
</ul>
</li>
<li>
<p><strong>Build and push Docker image</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Build the image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker build -t LOCATION-docker.pkg.dev/PROJECT_ID/REPOSITORY/IMAGE:TAG .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure Docker for Artifact Registry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud auth configure-docker LOCATION-docker.pkg.dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Push the image</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker push LOCATION-docker.pkg.dev/PROJECT_ID/REPOSITORY/IMAGE:TAG</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Deploy to Kubernetes</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Update kustomization.yaml with your image details</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Apply the Kubernetes resources</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -k .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Check deployment status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get services</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><strong>Access the application</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Get the external IP address</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get service smartrunning-localapp-service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Access via: http://EXTERNAL-IP:[port]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-structure">Project Structure<a href="#project-structure" class="hash-link" aria-label="Direct link to Project Structure" title="Direct link to Project Structure">​</a></h2>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">localApp/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── app/                          # Core application module</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── __init__.py              # Flask app factory</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── config.py                # Configuration settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── database.py              # MongoDB connection and operations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── models.py                # Data models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── routes.py                # API endpoints and routes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── defaults.py              # Default values for runners</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── file_processor.py        # FIT file processing logic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── statistics_processor.py  # Session statistics calculation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── runner_history_processor.py # Historical metrics tracking</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── training_plan_generator.py  # Training plan creation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── heart_rate_calculator.py # Heart rate zone calculation using HUNT formula</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── job_manager.py           # Background job handling</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── session_statistics.py    # Detailed session analysis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── generate_training_plan.py # Standalone plan generation script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── fit_to_parquet_converter.py # File conversion utility</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── upload_zwo_workouts.py   # Bulk workout upload script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── load_defaults.py         # Default values utility script</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── garmin_fit_sdk/              # Custom Garmin FIT file parser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── decoder.py               # FIT file decoding</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── profile.py               # FIT profile definitions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── ...                      # Additional SDK components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── templates/                   # HTML templates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── base.html               # Base template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.html              # Main application page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── admin.html              # Admin dashboard</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── training_plan_view.html # Training plan viewer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── static/                      # Static assets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── css/                    # Stylesheets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── js/                     # JavaScript files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── data/                        # Data storage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── uploads/                # Temporary file uploads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── documentation/               # Project documentation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── README.md               # This file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── ARCHITECTURE.md         # System architecture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── DEFAULT_VALUES.md       # Default configuration guide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── SESSION_UPLOAD.md       # Session upload guide</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Dockerfile                   # Docker container with SSL/TLS support</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── docker-compose.yml          # Multi-container setup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── deployment.yml              # Kubernetes deployment configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── service.yml                 # Kubernetes service configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── kustomization.yaml          # Kustomize configuration for K8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── requirements.txt            # Python dependencies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── .env.example               # Environment variables template</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── app.py                     # Application entry point</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment Variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment Variables" title="Direct link to Environment Variables">​</a></h3>
<p>Configuration is managed through <code>app/config.py</code> using environment variables from <code>.env</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># MongoDB Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGO_CONNECTION_STRING=mongodb+srv://username:password@cluster.mongodb.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_NAME=your_database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Application Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FLASK_ENV=development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FLASK_APP=app.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SECRET_KEY=your-secret-key</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Upload Configuration</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_CONTENT_LENGTH=16777216  # 16MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">UPLOAD_FOLDER=/app/data/uploads</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Data Validation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIN_VALID_HR=30</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MAX_VALID_HR=220</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIN_VALID_SPEED=0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MIN_PACE_CALCULATION_SPEED=0.5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-runner-configuration">Default Runner Configuration<a href="#default-runner-configuration" class="hash-link" aria-label="Direct link to Default Runner Configuration" title="Direct link to Default Runner Configuration">​</a></h3>
<p>Default values for new runners are defined in <code>app/defaults.py</code>:</p>
<ul>
<li>Physiological model parameters</li>
<li>Training load parameters</li>
<li>Schedule configuration (blocks, weeks, training days)</li>
<li>Heart rate zones</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="user-roles--access">User Roles &amp; Access<a href="#user-roles--access" class="hash-link" aria-label="Direct link to User Roles &amp; Access" title="Direct link to User Roles &amp; Access">​</a></h3>
<p>The application supports three user roles with different access levels:</p>
<table><thead><tr><th>Role</th><th>Login Required</th><th>Access</th></tr></thead><tbody><tr><td><strong>Admin</strong></td><td>Yes</td><td>Full access: User management, all runners, admin dashboard, workout library</td></tr><tr><td><strong>Coach</strong></td><td>Yes</td><td>Assigned runners, can create new athletes, limited admin dashboard access</td></tr><tr><td><strong>Runner</strong></td><td>Yes</td><td>Own profile only (auto-navigates to personal view), no Athletes Dashboard access</td></tr></tbody></table>
<p><strong>Note</strong>: Users can have multiple roles. A user with both Coach and Runner roles will have Coach-level access.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h3>
<p><strong>For Admins:</strong></p>
<ol>
<li>Log in with admin credentials</li>
<li>Access Athletes Dashboard to view all runners</li>
<li>Create user accounts via User Management</li>
<li>Assign runners to coaches as needed</li>
<li>Manage workout library and training plan schemas</li>
</ol>
<p><strong>For Coaches:</strong></p>
<ol>
<li>Log in with coach credentials</li>
<li>Access Athletes Dashboard to view assigned runners</li>
<li>Create new athletes using &quot;Add New Athlete&quot; wizard</li>
<li>Optionally create user accounts for athletes (Step 5)</li>
<li>Upload sessions and manage training plans for assigned athletes</li>
<li>Access limited Admin Dashboard (Workouts and Training Plan Schemas only)</li>
</ol>
<p><strong>For Runners:</strong></p>
<ol>
<li>Log in with runner credentials (created by admin or coach)</li>
<li><strong>Auto-navigated directly to personal training view</strong> (no Athletes Dashboard access)</li>
<li>Complete 4-step onboarding wizard on first login:<!-- -->
<ul>
<li>Basic Info (name, age)</li>
<li>Heart Rate Zones (automatic calculation available)</li>
<li>Personal Bests (multiple distances with performance metrics)</li>
<li>Training Parameters (physiological model parameters)</li>
</ul>
</li>
<li>View personal training data, sessions, history, and training plans</li>
<li>Cannot create or manage other athletes</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-examples">Workflow Examples<a href="#workflow-examples" class="hash-link" aria-label="Direct link to Workflow Examples" title="Direct link to Workflow Examples">​</a></h3>
<p><strong>Creating a New Athlete (Coach perspective):</strong></p>
<ol>
<li>Navigate to main page</li>
<li>Click &quot;Add New Athlete&quot;</li>
<li>Complete 4-step wizard with athlete details</li>
<li>Optionally create user account (Step 5) for athlete self-service</li>
<li>Upload sessions and manage training</li>
</ol>
<p><strong>First-Time Runner Login:</strong></p>
<ol>
<li>Log in with provided credentials</li>
<li>Complete onboarding wizard (4 steps)</li>
<li>View personal dashboard and training history</li>
</ol>
<p><strong>Uploading Training Sessions:</strong></p>
<ol>
<li>Select a runner from the list</li>
<li>Upload FIT files or ZIP archives containing FIT files</li>
<li>System automatically processes and extracts metrics</li>
</ol>
<p><strong>Generating Training Plans:</strong></p>
<ol>
<li>Select a runner</li>
<li>Choose a training plan schema</li>
<li>Configure parameters (marathon date, preparation weeks)</li>
<li>Generate personalized plan</li>
</ol>
<p>For detailed algorithm explanation, see <a href="/docs/architecture/training-algorithm">Training Algorithm</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="admin-dashboard">Admin Dashboard<a href="#admin-dashboard" class="hash-link" aria-label="Direct link to Admin Dashboard" title="Direct link to Admin Dashboard">​</a></h3>
<p>Access at <code>/admin</code> for:</p>
<ul>
<li>Workout library management</li>
<li>Training plan schema editing</li>
<li>Bulk workout uploads</li>
<li>System monitoring</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="api-documentation">API Documentation<a href="#api-documentation" class="hash-link" aria-label="Direct link to API Documentation" title="Direct link to API Documentation">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="key-endpoints">Key Endpoints<a href="#key-endpoints" class="hash-link" aria-label="Direct link to Key Endpoints" title="Direct link to Key Endpoints">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="runners">Runners<a href="#runners" class="hash-link" aria-label="Direct link to Runners" title="Direct link to Runners">​</a></h4>
<ul>
<li><code>GET /runners</code> - List all runners</li>
<li><code>GET /runners/&lt;id&gt;</code> - Get runner details</li>
<li><code>POST /runners</code> - Create new runner</li>
<li><code>PUT /runners/&lt;id&gt;</code> - Update runner</li>
<li><code>DELETE /runners/&lt;id&gt;</code> - Delete runner</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="sessions">Sessions<a href="#sessions" class="hash-link" aria-label="Direct link to Sessions" title="Direct link to Sessions">​</a></h4>
<ul>
<li><code>POST /runners/&lt;id&gt;/sessions</code> - Upload session files</li>
<li><code>GET /runners/&lt;id&gt;/sessions</code> - List runner sessions</li>
<li><code>DELETE /runners/&lt;id&gt;/sessions</code> - Delete sessions</li>
<li><code>POST /runners/&lt;id&gt;/sessions/analyze</code> - Analyze sessions</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="training-plans">Training Plans<a href="#training-plans" class="hash-link" aria-label="Direct link to Training Plans" title="Direct link to Training Plans">​</a></h4>
<ul>
<li><code>GET /training-schemas</code> - List available schemas</li>
<li><code>POST /runners/&lt;id&gt;/training-plans/generate</code> - Generate plan</li>
<li><code>GET /runners/&lt;id&gt;/training-plans</code> - List runner plans</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="workouts">Workouts<a href="#workouts" class="hash-link" aria-label="Direct link to Workouts" title="Direct link to Workouts">​</a></h4>
<ul>
<li><code>GET /api/workouts</code> - List workouts</li>
<li><code>POST /api/workouts</code> - Create workout</li>
<li><code>PUT /api/workouts/&lt;id&gt;</code> - Update workout</li>
<li><code>DELETE /api/workouts/&lt;id&gt;</code> - Delete workout</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="database-schema">Database Schema<a href="#database-schema" class="hash-link" aria-label="Direct link to Database Schema" title="Direct link to Database Schema">​</a></h2>
<p>The database uses 11 MongoDB collections for storing training data. For complete schema documentation including field definitions, relationships, and query patterns, see <a href="/docs/storage/database-schema">Database Schema</a>.</p>
<p><strong>Key Collections:</strong></p>
<ul>
<li><strong>runner</strong> - Athlete profiles with physiological parameters (38 fields)</li>
<li><strong>sessionsFIT</strong> - Raw FIT file data and metadata</li>
<li><strong>sessionsParquet</strong> - Processed session records in Parquet format</li>
<li><strong>sessionStatistics</strong> - Aggregated session metrics (65 fields)</li>
<li><strong>runnerHistory</strong> - Daily training load progression metrics</li>
<li><strong>trainingplan</strong> - Training plan days (one document per day, flat structure)</li>
<li><strong>trainingplanschema</strong> - Training plan templates (nested blocks/workouts)</li>
<li><strong>workouts</strong> - Workout library</li>
<li><strong>background_jobs</strong> - Async job tracking</li>
<li><strong>fs.files</strong>, <strong>fs.chunks</strong> - GridFS binary file storage</li>
</ul>
<p>For training plan generation details, see <a href="/docs/architecture/training-algorithm">Training Algorithm</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development">Development<a href="#development" class="hash-link" aria-label="Direct link to Development" title="Direct link to Development">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-tests">Running Tests<a href="#running-tests" class="hash-link" aria-label="Direct link to Running Tests" title="Direct link to Running Tests">​</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Inside container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">docker-compose exec web python -m pytest tests/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Local environment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pytest tests/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="database-operations">Database Operations<a href="#database-operations" class="hash-link" aria-label="Direct link to Database Operations" title="Direct link to Database Operations">​</a></h3>
<p>Utility scripts in the <code>app/</code> folder can handle data operations and migrations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multi-environment-deployment">Multi-Environment Deployment<a href="#multi-environment-deployment" class="hash-link" aria-label="Direct link to Multi-Environment Deployment" title="Direct link to Multi-Environment Deployment">​</a></h3>
<p>Thanks to the centralized configuration system, you can easily deploy to different environments by changing only the <code>.env</code> file:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Development</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGO_CONNECTION_STRING=mongodb://localhost:27017</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_NAME=your_database_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGO_CONNECTION_STRING=mongodb+srv://user:pass@staging-cluster.mongodb.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_NAME=your_database_staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MONGO_CONNECTION_STRING=mongodb+srv://user:pass@prod-cluster.mongodb.net/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATABASE_NAME=your_database_prod</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>No code changes required - just environment variables!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-style">Code Style<a href="#code-style" class="hash-link" aria-label="Direct link to Code Style" title="Direct link to Code Style">​</a></h3>
<ul>
<li>PEP 8 compliance for Python code</li>
<li>ESLint for JavaScript</li>
<li>Consistent naming conventions</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h2>
<p>For common issues and solutions, see the <a href="/docs/guides/troubleshooting">Troubleshooting Guide</a>.</p>
<p>For MongoDB-specific connection issues (IP whitelisting, SSL/TLS), see the <a href="/docs/storage/mongodb-setup">MongoDB Setup Guide</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">SmartRunning intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/beta/HowTo"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">How To</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#core-functionality" class="table-of-contents__link toc-highlight">Core Functionality</a></li><li><a href="#key-components" class="table-of-contents__link toc-highlight">Key Components</a></li></ul></li><li><a href="#technologies" class="table-of-contents__link toc-highlight">Technologies</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#using-docker-recommended" class="table-of-contents__link toc-highlight">Using Docker (Recommended)</a></li><li><a href="#local-development-without-docker" class="table-of-contents__link toc-highlight">Local Development (Without Docker)</a></li><li><a href="#kubernetes-deployment-production" class="table-of-contents__link toc-highlight">Kubernetes Deployment (Production)</a></li></ul></li><li><a href="#project-structure" class="table-of-contents__link toc-highlight">Project Structure</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment Variables</a></li><li><a href="#default-runner-configuration" class="table-of-contents__link toc-highlight">Default Runner Configuration</a></li></ul></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#user-roles--access" class="table-of-contents__link toc-highlight">User Roles &amp; Access</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#workflow-examples" class="table-of-contents__link toc-highlight">Workflow Examples</a></li><li><a href="#admin-dashboard" class="table-of-contents__link toc-highlight">Admin Dashboard</a></li></ul></li><li><a href="#api-documentation" class="table-of-contents__link toc-highlight">API Documentation</a><ul><li><a href="#key-endpoints" class="table-of-contents__link toc-highlight">Key Endpoints</a></li></ul></li><li><a href="#database-schema" class="table-of-contents__link toc-highlight">Database Schema</a></li><li><a href="#development" class="table-of-contents__link toc-highlight">Development</a><ul><li><a href="#running-tests" class="table-of-contents__link toc-highlight">Running Tests</a></li><li><a href="#database-operations" class="table-of-contents__link toc-highlight">Database Operations</a></li><li><a href="#multi-environment-deployment" class="table-of-contents__link toc-highlight">Multi-Environment Deployment</a></li><li><a href="#code-style" class="table-of-contents__link toc-highlight">Code Style</a></li></ul></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Home</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:hans@smartrunning.coach" target="_blank" rel="noopener noreferrer" class="footer__link-item">email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.smartrunning.coach/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 SmartRunning.coach</div></div></div></footer></div>
</body>
</html>